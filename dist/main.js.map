{"version":3,"file":"main.js","mappings":"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","sources":["webpack://language-parser/webpack/runtime/create fake namespace object","webpack://language-parser/webpack/runtime/load script","webpack://language-parser/webpack/bootstrap","webpack://language-parser/webpack/runtime/define property getters","webpack://language-parser/webpack/runtime/ensure chunk","webpack://language-parser/webpack/runtime/get javascript chunk filename","webpack://language-parser/webpack/runtime/global","webpack://language-parser/webpack/runtime/hasOwnProperty shorthand","webpack://language-parser/webpack/runtime/make namespace object","webpack://language-parser/webpack/runtime/publicPath","webpack://language-parser/webpack/runtime/jsonp chunk loading","webpack://language-parser/./src/index.js"],"sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"language-parser:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklanguage_parser\"] = self[\"webpackChunklanguage_parser\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","const getPinyin = () => import('pinyin-pro');\r\nconst getHanzi = () => import('hanzi');\r\n\r\nconst inputContainer = document.querySelector(\".input-container\");\r\nconst outContainer = document.querySelector(\".output-container\");\r\n\r\nconst clearAllBtn = document.querySelector(\"#clear-all-btn\");\r\nconst viewOriginalBtn = document.querySelector(\"#view-original-btn\");\r\nconst userInput = document.querySelector(\"#input-field\");\r\nconst wordCountEl = document.querySelector(\".count-value\");\r\nconst submitBtn = document.querySelector(\"#submit-btn\");\r\nconst loader = document.querySelector(\".loader\");\r\nconst downloadBtn = document.querySelector(\"#download-btn\");\r\nconst pluralEl = document.querySelector(\".plural\");\r\nconst display = document.querySelector(\"#display-field\");\r\nlet displayContent = document.querySelector(\"#display-content\");\r\nlet definitionEl;\r\n\r\nconst displayPinyinEl = document.querySelector(\"#display-pinyin\");\r\nconst pinyinSlider = document.querySelector(\"#pinyin-slider\");\r\nconst colorCodingEl = document.querySelector(\"#color-coding\");\r\nconst colorCodingSlider = document.querySelector(\"#color-coding-slider\");\r\n\r\nlet paragraphs = [];\r\nlet dictionary = {};\r\nconst backgroundCodes = [1, 2, 3, 0, 1, 2];\r\nlet lastBackgroundCode = 0;\r\nlet firstUse = true;\r\n\r\nfunction appendClickIcon() {\r\n  if (!firstUse) return;\r\n  const clickContainer = document.createElement(\"div\");\r\n  clickContainer.classList.add(\"click-hint-container\");\r\n  const clickImageContainer = document.createElement(\"div\");\r\n  clickImageContainer.classList.add(\"click-image-container\");\r\n  const clickIcon = document.createElement(\"img\");\r\n  clickIcon.src = \"./click.svg\";\r\n  clickImageContainer.append(clickIcon);\r\n  clickContainer.append(clickImageContainer);\r\n  const hintTextContainer = document.createElement(\"div\");\r\n  hintTextContainer.classList.add(\"hint-text-container\");\r\n  const hintText = document.createElement(\"p\");\r\n  hintText.textContent = \"Click a word to view its meanings\";\r\n  hintTextContainer.append(hintText);\r\n  clickContainer.append(hintTextContainer);\r\n  displayContent.append(clickContainer);\r\n  setTimeout(() => {\r\n    clickContainer.remove();\r\n  }, 3000);\r\n  firstUse = false;\r\n}\r\n\r\nfunction switchToOutputUI() {\r\n  appendClickIcon();\r\n  inputContainer.hidden = true;\r\n  outContainer.classList.replace(\"none-display\", \"flex-display-column\");\r\n  submitBtn.classList.replace(\"flex-display-row\", \"none-display\");;\r\n  downloadBtn.classList.replace(\"none-display\", \"flex-display-row\");\r\n}\r\n\r\nfunction switchToInputUI() {\r\n  inputContainer.hidden = false;\r\n  outContainer.classList.replace(\"flex-display-column\", \"none-display\");\r\n  loader.classList.replace(\"inline-block-display\", \"none-display\");\r\n  submitBtn.classList.replace(\"none-display\", \"flex-display-row\");\r\n  downloadBtn.classList.replace(\"flex-display-row\", \"none-display\");\r\n}\r\n\r\nfunction generateRandomBackground() {\r\n  const randomOffset = Math.floor(Math.random() * 3);\r\n  const background = backgroundCodes[lastBackgroundCode + randomOffset];\r\n  lastBackgroundCode = background;\r\n  return background;\r\n}\r\n\r\nfunction deleteDefinitions(definition) {\r\n  if (definition.parentElement.classList.contains(\"word-container\")) {\r\n    definition.parentElement.remove();\r\n  } else {\r\n    definition.remove();\r\n  }\r\n}\r\n\r\nfunction definitionAlreadyExists(newDefinition, definitons) {\r\n  return (\r\n    definitons.includes(`(${newDefinition})`) ||\r\n    definitons.includes(`(${newDefinition}, `) ||\r\n    definitons.includes(`, ${newDefinition}, `) ||\r\n    definitons.includes(`, ${newDefinition})`)\r\n  );\r\n}\r\n\r\nfunction createDefinitionSpan() {\r\n  const displayedDefTerm = document.createElement(\"span\");\r\n  displayedDefTerm.classList.add(\"definition-term\");\r\n  displayedDefTerm.addEventListener(\"click\", () =>\r\n    deleteDefinitions(displayedDefTerm)\r\n  );\r\n  return displayedDefTerm;\r\n}\r\n\r\nfunction addNewDefinitionToExsitingSpan(def, span) {\r\n  span.textContent = `${span.textContent.slice(0, -1)}, ${def})`;\r\n}\r\n\r\nfunction addDefinition(def, span) {\r\n  if (!span.parentElement.classList.contains(\"word-container\")) {\r\n    if (span.nextElementSibling?.classList.contains(\"definition-term\")) {\r\n      if (!definitionAlreadyExists(def, span.nextElementSibling.textContent)) {\r\n        addNewDefinitionToExsitingSpan(def, span.nextElementSibling);\r\n      }\r\n    } else {\r\n      const displayedDefTerm = createDefinitionSpan();\r\n      displayedDefTerm.textContent = `(${def})`;\r\n      span.parentNode.insertBefore(displayedDefTerm, span.nextSibling);\r\n    }\r\n  } else {\r\n    const displayedDefTerm = createDefinitionSpan();\r\n    const [, textSpan] = Array.from(\r\n      span.parentElement.nextElementSibling.children\r\n    );\r\n    if (\r\n      textSpan.classList.contains(\"definition-term\") &&\r\n      definitionAlreadyExists(def, textSpan.textContent)\r\n    )\r\n      return;\r\n    if (textSpan.classList.contains(\"definition-term\")) {\r\n      addNewDefinitionToExsitingSpan(def, textSpan);\r\n      return;\r\n    }\r\n    displayedDefTerm.textContent = `(${def})`;\r\n    const NewPinyinSpan = createPinyinSpan({\r\n      value: displayedDefTerm.textContent,\r\n    });\r\n    const wordSpanContainer = createWordContainer(\r\n      displayedDefTerm,\r\n      NewPinyinSpan\r\n    );\r\n    span.parentNode.parentNode.insertBefore(\r\n      wordSpanContainer,\r\n      span.parentNode.nextSibling\r\n    );\r\n  }\r\n}\r\n\r\nfunction createDefinitionItem(def, span) {\r\n  const definitionItem = document.createElement(\"div\");\r\n  definitionItem.classList.add(\"definition-item-div\");\r\n  const definitionTerm = document.createElement(\"span\");\r\n  definitionTerm.textContent = `${def.replace(def[0], def[0].toUpperCase())} `;\r\n  const icon = document.createElement(\"span\");\r\n  icon.textContent = \"+\";\r\n  icon.classList.add(\"icon\");\r\n  definitionItem.addEventListener(\"click\", () => addDefinition(def, span));\r\n  definitionItem.addEventListener(\"mouseenter\", () =>\r\n    icon.classList.add(\"scale-icon\")\r\n  );\r\n  definitionItem.addEventListener(\"mouseleave\", () =>\r\n    icon.classList.remove(\"scale-icon\")\r\n  );\r\n  definitionItem.append(definitionTerm, icon);\r\n  return definitionItem;\r\n}\r\n\r\nfunction createPopupDiv(span, word) {\r\n  const popupDiv = document.createElement(\"div\");\r\n  popupDiv.classList.add(\"definition-div\");\r\n  popupDiv.style.position = \"absolute\";\r\n  const posX = Math.min(\r\n    span.getBoundingClientRect().left + span.offsetWidth + 3,\r\n    window.innerWidth - 175\r\n  );\r\n  popupDiv.style.left = `${posX}px`;\r\n  const posY = Math.min(\r\n    span.getBoundingClientRect().top + 25,\r\n    window.innerHeight - 230\r\n  );\r\n  popupDiv.style.top = `${posY}px`;\r\n  popupDiv.style.transform = `translateY(${-popupDiv.offsetHeight})`;\r\n  const wordHeader = document.createElement(\"h4\");\r\n  wordHeader.classList.add(\"word-header\");\r\n  wordHeader.textContent = word.value;\r\n  const definitionList = document.createElement(\"div\");\r\n  let definitionItems = [];\r\n  if (!word.definitions) {\r\n    definitionItems.push(\"(No Definition Available)\");\r\n  } else {\r\n    word.definitions.forEach((entry) => {\r\n      entry.definition.split(\"/\").forEach((def) => {\r\n        const definitionItem = createDefinitionItem(def, span);\r\n        definitionItems.push(definitionItem);\r\n      });\r\n    });\r\n  }\r\n  definitionList.append(...definitionItems);\r\n  popupDiv.append(wordHeader, definitionList);\r\n  return popupDiv;\r\n}\r\n\r\nfunction createWordSpan(word, count) {\r\n  const span = document.createElement(\"span\");\r\n  span.textContent = word.value;\r\n  span.classList.add(\"word-span\");\r\n  span.classList.add(\"no-background-span\");\r\n  span.setAttribute(\"id\", count);\r\n  span.addEventListener(\"click\", () => {\r\n    const popupDiv = createPopupDiv(span, word);\r\n    definitionEl = popupDiv;\r\n    document.querySelector(\"body\").appendChild(popupDiv);\r\n  });\r\n  return span;\r\n}\r\n\r\nfunction createPunctSpan(punct) {\r\n  const span = document.createElement(\"div\");\r\n  span.classList.add(\"punct-span\");\r\n  span.textContent = punct;\r\n  return span;\r\n}\r\n\r\nfunction createPinyinSpan(word) {\r\n  const span = document.createElement(\"span\");\r\n  span.classList.add(\"pinyin-span\");\r\n  span.textContent = dictionary[word]?.pinyin || \" \";\r\n  return span;\r\n}\r\n\r\nfunction createWordContainer(wordSpan, pinyinSpan) {\r\n  const span = document.createElement(\"span\");\r\n  span.classList.add(\"word-container\");\r\n  span.appendChild(pinyinSpan);\r\n  span.appendChild(wordSpan);\r\n  return span;\r\n}\r\n\r\nfunction addPinyin(paragraphDiv) {\r\n  const currentSpans = Array.from(paragraphDiv.children);\r\n  paragraphDiv.textContent = \"\";\r\n  const newWordContainers = currentSpans.map((span) => {\r\n    let pinyinSpan;\r\n    if (span.classList.contains(\"definition-term\")) {\r\n      pinyinSpan = createPinyinSpan({ value: span.textContent });\r\n    } else {\r\n      pinyinSpan = createPinyinSpan(span.innerHTML);\r\n    }\r\n    return createWordContainer(span, pinyinSpan);\r\n  });\r\n  paragraphDiv.append(...newWordContainers);\r\n}\r\n\r\nfunction removePinyin(paragraphDiv) {\r\n  const currentContainers = Array.from(paragraphDiv.children);\r\n  paragraphDiv.textContent = \"\";\r\n  const newSpans = currentContainers.map((wordContainer) => {\r\n    return wordContainer.children[1];\r\n  });\r\n  paragraphDiv.append(...newSpans);\r\n  return paragraphDiv;\r\n}\r\n\r\nfunction addBackground(paragraphDiv) {\r\n  const currentSpans = Array.from(paragraphDiv.children);\r\n  paragraphDiv.textContent = \"\";\r\n  let newElements;\r\n  if (!currentSpans[0].classList.contains(\"word-container\")) {\r\n    newElements = currentSpans.map((wordSpan) => {\r\n      if (wordSpan.classList.contains(\"word-span\")) {\r\n        wordSpan.classList.replace(\r\n          \"no-background-span\",\r\n          `background${generateRandomBackground()}-span`\r\n        );\r\n      }\r\n      return wordSpan;\r\n    });\r\n  } else {\r\n    newElements = currentSpans.map((wordContainer) => {\r\n      if (wordContainer.children[1].classList.contains(\"word-span\")) {\r\n        wordContainer.children[1].classList.replace(\r\n          \"no-background-span\",\r\n          `background${generateRandomBackground()}-span`\r\n        );\r\n        return createWordContainer(\r\n          wordContainer.lastElementChild,\r\n          wordContainer.firstElementChild\r\n        );\r\n      }\r\n      return wordContainer;\r\n    });\r\n  }\r\n  paragraphDiv.append(...newElements);\r\n}\r\n\r\nfunction removeBackground(paragraphDiv) {\r\n  const currentElements = Array.from(paragraphDiv.children);\r\n  paragraphDiv.textContent = \"\";\r\n  let newElements;\r\n  if (!currentElements[0].classList.contains(\"word-container\")) {\r\n    newElements = currentElements.map((wordSpan) => {\r\n      if (wordSpan.classList.contains(\"word-span\")) {\r\n        [0, 1, 2, 3, 4].forEach((n) => {\r\n          wordSpan.classList.remove(`background${n}-span`);\r\n        });\r\n        wordSpan.classList.add(\"no-background-span\");\r\n      }\r\n      return wordSpan;\r\n    });\r\n  } else {\r\n    newElements = currentElements.map((wordContainer) => {\r\n      if (wordContainer.children[1].classList.contains(\"word-span\")) {\r\n        [0, 1, 2, 3, 4].forEach((n) => {\r\n          wordContainer.children[1].classList.remove(`background${n}-span`);\r\n        });\r\n        wordContainer.children[1].classList.add(\"no-background-span\");\r\n        const [pinyinSpan, wordSpan] = Array.from(wordContainer.children);\r\n        return createWordContainer(wordSpan, pinyinSpan);\r\n      }\r\n      return wordContainer;\r\n    });\r\n  }\r\n  paragraphDiv.append(...newElements);\r\n}\r\n\r\nfunction createParagraphUI(paragraph, paragraphDiv) {\r\n  let count = 0;\r\n  paragraph.forEach((word) => {\r\n    if (word.type === \"word\") {\r\n      const wordSpan = createWordSpan(word, count);\r\n      paragraphDiv.appendChild(wordSpan);\r\n    } else {\r\n      const punctSpan = createPunctSpan(word.value);\r\n      paragraphDiv.appendChild(punctSpan);\r\n    }\r\n  });\r\n  return paragraphDiv;\r\n}\r\n\r\nasync function createParagraph(paragraph) {\r\n  if (paragraph.length !== 0) {\r\n    let paragraphDiv = document.createElement(\"div\");\r\n    paragraphDiv.classList.add(\"paragraph-div\");\r\n    const processedParagraph = await getParagraphInfo(paragraph);\r\n    paragraphs.push(processedParagraph);\r\n    return createParagraphUI(processedParagraph, paragraphDiv);\r\n  }\r\n}\r\n\r\nconst getParseTexts = async (text) => {\r\n  const punctList = [\" \", \"，\", \"。\", \"、\", \"《\", \"》\", \"！\", \"？\", \"；\", \"：\", \"“\", \"”\", \"（\", \"）\", \"·\", \"—\"];\r\n  const hanzi = await getHanzi();\r\n\tconst wordlist =  hanzi.segment(text);\r\n\treturn wordlist.map((part) => {\r\n\t\tconst type = punctList.includes(part)? \"punct\" : \"word\";\r\n\t\treturn {value: part, type};\r\n\t})\r\n}\r\n\r\nconst getDefinitions = async (words) => {\r\n\tconst { definitionLookup } = await getHanzi();\r\n\treturn words.map(word => {\r\n\t\tif (word.type === \"punct\") return word;\r\n\t\treturn {...word, definitions: definitionLookup(word.value, \"s\")}\r\n\t})\r\n}\r\n\r\nconst addPinyinToDictionary = async (words) => {\r\n\tconst { pinyin } = await getPinyin();\r\n\twords.forEach(word => {\r\n\t\tif (word.type === \"punct\") return\r\n\t\tdictionary[word.value] = { pinyin: pinyin(word.value, { removeNonZh: true }) };\r\n  })\r\n}\r\n\r\nfunction resetControls() {\r\n  displayPinyinEl.checked = false;\r\n  colorCodingEl.checked = false;\r\n  paragraphs = [];\r\n  display.textContent = \"\";\r\n  displayContent.textContent = \"\";\r\n}\r\n\r\nasync function getParagraphInfo(paragraph) {\r\n  const wordlist = await getParseTexts(paragraph);\r\n\tconst wordlistWithDefinitions = await getDefinitions(wordlist);\r\n\tawait addPinyinToDictionary(wordlist)\r\n  return wordlistWithDefinitions;\r\n}\r\n\r\nfunction generateOutputContent() {\r\n  const paragraphDivs = userInput.value\r\n\t\t.split(\"\\n\")\r\n\t\t.filter((paragraph) => paragraph.length > 0)\r\n\t\t.map((paragraph) => createParagraph(paragraph));\r\n\r\n\tPromise.all(paragraphDivs).then((paragraphDivs) => {\r\n\t\tdisplayContent.append(...paragraphDivs);\r\n\t\tdisplay.appendChild(displayContent);\r\n\t});\r\n}\r\n\r\nconst showLoader = () => {\r\n  loader.classList.replace(\"none-display\", \"inline-block-display\");\r\n};\r\n\r\nsubmitBtn.addEventListener(\"click\", async (e) => {\r\n  e.preventDefault();\r\n  if (userInput.value.length === 0) return;\r\n  if (firstUse) {\r\n    showLoader();\r\n    const hanzi = await getHanzi();\r\n\t\thanzi.start();\r\n  }\r\n  resetControls();\r\n  generateOutputContent();\r\n  switchToOutputUI();\r\n});\r\n\r\nviewOriginalBtn.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  switchToInputUI();\r\n});\r\n\r\nuserInput.addEventListener(\"input\", (e) => {\r\n  let { value } = e.target;\r\n  if (value.length === 0) {\r\n    wordCountEl.textContent = \"0\";\r\n    pluralEl.hidden = true;\r\n  } else {\r\n    wordCountEl.textContent = value.length;\r\n    pluralEl.hidden = false;\r\n  }\r\n});\r\n\r\nclearAllBtn.addEventListener(\"click\", (e) => {\r\n  e.preventDefault();\r\n  userInput.value = \"\";\r\n  wordCountEl.textContent = \"0\";\r\n});\r\n\r\nconst togglePinyin = () => {\r\n\tif (displayPinyinEl.checked) {\r\n    Array.from(displayContent.children).forEach((paragraphDiv, index) => {\r\n      addPinyin(paragraphDiv, index);\r\n    });\r\n  } else {\r\n    Array.from(displayContent.children).forEach((paragraphDiv) =>\r\n      removePinyin(paragraphDiv)\r\n    );\r\n  }\r\n};\r\n\r\ndisplayPinyinEl.addEventListener(\"click\", togglePinyin);\r\n\r\npinyinSlider.addEventListener(\"keypress\", (e) => {\r\n\tif (e.key !== \"Enter\") return;\r\n\tdisplayPinyinEl.checked = !displayPinyinEl.checked;\r\n\ttogglePinyin();\r\n})\r\n\r\nconst toggleColorCoding = () => {\r\n\tif (colorCodingEl.checked) {\r\n    Array.from(displayContent.children).forEach((paragraphDiv) =>\r\n      addBackground(paragraphDiv)\r\n    );\r\n  } else {\r\n    Array.from(displayContent.children).forEach((paragraphDiv) =>\r\n      removeBackground(paragraphDiv)\r\n    );\r\n  }\r\n}\r\n\r\ncolorCodingEl.addEventListener(\"click\", toggleColorCoding);\r\n\r\ncolorCodingSlider.addEventListener(\"keypress\", (e) => {\r\n\tif (e.key !== \"Enter\") return;\r\n\tcolorCodingEl.checked = !colorCodingEl.checked;\r\n\ttoggleColorCoding();\r\n})\r\n\r\ndownloadBtn.addEventListener(\"click\", createPDFfromHTML);\r\n\r\nconst switchBackground = (oldBackground, newBackground) => {\r\n  if (colorCodingEl.checked) return;\r\n  const wordSpans = displayContent.querySelectorAll(`.${oldBackground}`);\r\n  wordSpans.forEach((span) => {\r\n    span.classList.replace(oldBackground, newBackground);\r\n  });\r\n};\r\n\r\nfunction createPDFfromHTML() {\r\n  const opt = {\r\n    pagebreak: { avoid: \"span\" },\r\n    margin: 1,\r\n    filename: \"mandarin-text.pdf\",\r\n    image: { type: \"jpeg\", quality: 0.98 },\r\n    html2canvas: { scale: 2 },\r\n    jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" },\r\n  };\r\n\r\n  switchBackground(\"no-background-span\", \"white-background-span\");\r\n  html2pdf().set(opt).from(displayContent).save();\r\n  setTimeout(() => {\r\n    switchBackground(\"white-background-span\", \"no-background-span\");\r\n  }, 0);\r\n}\r\n\r\nwindow.addEventListener(\"mouseup\", function (event) {\r\n  if (\r\n    definitionEl &&\r\n    event.target !== definitionEl &&\r\n    event.target.parentNode !== definitionEl &&\r\n    event.target.parentNode.parentNode !== definitionEl &&\r\n    event.target.parentNode.parentNode?.parentNode !== definitionEl\r\n  ) {\r\n    definitionEl.remove();\r\n  }\r\n});\r\n\r\n\r\n"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","Object","getPrototypeOf","obj","t","value","mode","this","__esModule","then","ns","create","r","def","current","indexOf","getOwnPropertyNames","forEach","key","d","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","keys","reduce","promises","u","g","globalThis","Function","window","prop","prototype","hasOwnProperty","call","l","url","done","push","script","needAttach","scripts","document","getElementsByTagName","i","length","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","fn","setTimeout","bind","type","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","Error","replace","p","installedChunks","j","installedChunkData","promise","resolve","reject","error","errorType","realSrc","message","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","some","id","chunkLoadingGlobal","self","getHanzi","inputContainer","querySelector","outContainer","clearAllBtn","viewOriginalBtn","userInput","wordCountEl","submitBtn","loader","downloadBtn","pluralEl","display","definitionEl","displayContent","displayPinyinEl","pinyinSlider","colorCodingEl","colorCodingSlider","paragraphs","dictionary","backgroundCodes","lastBackgroundCode","firstUse","generateRandomBackground","randomOffset","Math","floor","random","background","definitionAlreadyExists","newDefinition","definitons","includes","createDefinitionSpan","displayedDefTerm","classList","add","addEventListener","parentElement","contains","remove","addNewDefinitionToExsitingSpan","span","textContent","slice","createWordSpan","word","count","popupDiv","style","position","posX","min","getBoundingClientRect","left","offsetWidth","innerWidth","posY","top","innerHeight","transform","offsetHeight","wordHeader","definitionList","definitionItems","definitions","entry","split","definitionItem","definitionTerm","toUpperCase","icon","textSpan","Array","from","nextElementSibling","children","wordSpanContainer","createWordContainer","createPinyinSpan","insertBefore","nextSibling","addDefinition","append","createDefinitionItem","createPopupDiv","pinyin","wordSpan","pinyinSpan","async","createParagraph","paragraph","paragraphDiv","processedParagraph","wordlist","text","punctList","segment","map","part","getParseTexts","wordlistWithDefinitions","words","definitionLookup","getDefinitions","removeNonZh","addPinyinToDictionary","getParagraphInfo","punctSpan","punct","createPunctSpan","createParagraphUI","preventDefault","start","checked","paragraphDivs","filter","generateOutputContent","clickContainer","clickImageContainer","clickIcon","hintTextContainer","hintText","appendClickIcon","hidden","togglePinyin","index","currentSpans","newWordContainers","innerHTML","addPinyin","currentContainers","newSpans","wordContainer","removePinyin","toggleColorCoding","newElements","lastElementChild","firstElementChild","addBackground","currentElements","n","removeBackground","switchBackground","html2pdf","set","pagebreak","avoid","margin","filename","image","quality","html2canvas","scale","jsPDF","unit","format","orientation","save","oldBackground","newBackground","querySelectorAll"],"sourceRoot":""}